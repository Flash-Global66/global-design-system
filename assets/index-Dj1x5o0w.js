import{R as w,d as W,r as J,H as Q,c as o,w as _,x as m,m as B,s as N,u as i,l as u,k as f,n as Z,F as ee,z as te,e as p,y as T,A as se,ad as I}from"./vue.esm-bundler-DNj4lB-B.js";import{u as ae,Y as le,H as ne,G as re}from"./index-CKHqQBpj.js";import{b as oe,a as ie}from"./index-CP3_1Uby.js";import{e as x,q as A,o as de,l as b,u as ue,w as ce}from"./install-B47IWttr.js";import{C as L,U as $}from"./event-HEVJa2N9.js";import{u as me}from"./index-DG2QIyoI.js";import{d as pe}from"./error-Cq9Fpw4b.js";const ge=de({variant:{type:b(String),default:"default"},rounded:{type:b(String),default:"md"},classItem:{type:String,default:""},options:{type:b(Array),default:()=>[]},modelValue:{type:[String,Number,Boolean,null],default:void 0},block:Boolean,size:{type:b(String),default:"md"},disabled:Boolean,validateEvent:{type:Boolean,default:!0},messageError:{type:String,default:""},helpText:{type:String,default:""},id:String,name:String,...me(["ariaLabel"])}),fe={[$]:l=>w(l)||x(l)||A(l),[L]:l=>w(l)||x(l)||A(l)},be={class:"flex flex-col gap-xs"},he=["id","aria-label","aria-labelledby"],ve=["name","disabled","checked","onChange"],k=W({__name:"Segmented",props:ge,emits:fe,setup(l,{emit:z}){const s=l,C=z,t=ue("segmented"),G=ae(),P=le(),{formItem:d}=re(),{inputId:R,isLabeledByFormItem:V}=ne(s,{formItemContext:d}),c=J(null),X=oe(),a=Q({isInit:!1,width:0,height:0,translateX:0,translateY:0,focusVisible:!1}),g=o(()=>d?.shouldShowErrorChild||!!s?.messageError),D=o(()=>[t.e("help"),{[t.e("help-error")]:g.value}]),h=o(()=>s?.messageError?s.messageError:d?.validateMessage);o(()=>h.value||d?.$el);const F=e=>{const r=v(e);C($,r),C(L,r)},v=e=>I(e)?e?.value:e,H=e=>I(e)?e?.label:e,y=e=>!!(P.value||I(e)&&e?.disabled),S=e=>s.modelValue===v(e),O=e=>s.options.find(r=>v(r)===e),Y=e=>[t.e("item"),t.is("selected",S(e)),t.is("disabled",y(e)),s.classItem],E=()=>{if(!c.value)return;const e=c.value.querySelector(".is-selected"),r=c.value.querySelector(".is-selected input");if(!e||!r){a.width=0,a.height=0,a.translateX=0,a.translateY=0,a.focusVisible=!1;return}const n=e.getBoundingClientRect();a.isInit=!0,a.width=n.width,a.translateX=e.offsetLeft;try{a.focusVisible=r.matches(":focus-visible")}catch{}},q=o(()=>[t.b(),t.m(s.size),t.m(s.variant),t.is("block",s.block),t.m(`rounded-${s.rounded}`)]),M=o(()=>({width:`${a.width}px`,height:"100%",transform:`translateX(${a.translateX}px)`,display:a.isInit?"block":"none"})),U=o(()=>[t.e("item-selected"),t.is("disabled",y(O(s.modelValue))),t.is("focus-visible",a.focusVisible)]),j=o(()=>s.name||G.value);return ie(c,E),_(X,E),_(()=>s.modelValue,()=>{E(),s.validateEvent&&d?.validate?.("change").catch(e=>pe())},{flush:"post"}),(e,r)=>(p(),m("div",be,[e.options.length?(p(),m("div",{key:0,class:u(q.value),id:i(R),ref_key:"segmentedRef",ref:c,role:"radiogroup","aria-label":i(V)?void 0:e.ariaLabel||"segmented","aria-labelledby":i(V)?i(d).labelId:void 0},[f("div",{class:u([i(t).e("group")])},[f("div",{style:Z(M.value),class:u(U.value)},null,6),(p(!0),m(ee,null,te(e.options,(n,K)=>(p(),m("label",{key:K,class:u(Y(n))},[f("input",{class:u(i(t).e("item-input")),type:"radio",name:j.value,disabled:y(n),checked:S(n),onChange:ye=>F(n)},null,42,ve),f("div",{class:u(i(t).e("item-label"))},[N(e.$slots,"default",{item:n,isActive:S(n)},()=>[se(T(H(n)),1)])],2)],2))),128))],2)],10,he)):B("",!0),N(e.$slots,"help",{error:h.value,isError:g.value},()=>[i(d)||e.helpText?(p(),m("p",{key:g.value?"error":"help",class:u(D.value)},T(g.value?h.value:e.helpText),3)):B("",!0)])]))}});k.__docgenInfo={exportName:"default",displayName:"Segmented",description:"",tags:{},slots:[{name:"default",scoped:!0,bindings:[{name:"item",title:"binding"},{name:"isActive",title:"binding"}]},{name:"help",scoped:!0,bindings:[{name:"error",title:"binding"},{name:"isError",title:"binding"}]}],sourceFiles:["/home/runner/work/global-design-system/global-design-system/components/segmented/src/Segmented.vue"]};const _e=ce(k,{Segmented:k});export{_e as G};
