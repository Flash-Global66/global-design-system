import{g as te,r as R,c as B,w as Z,o as ae,a as q,d as se,b as K,e as k,f as E,h as Y,T as pe,u as o,j as ve,k as N,n as le,l as w,m as T,p as me,q as ye,s as z,v as ge,t as be,x as M,y as U,F as Ce,z as he,A as we,B as ke,C as Be,D as Se,E as xe}from"./vue.esm-bundler-DNj4lB-B.js";import{O as $e,G as Le,a as Ee}from"./index-DwSrO8lq.js";import{u as Fe,G as Oe,a as Me}from"./index-BTYE5co3.js";import{v as Re}from"./index-CaVzmfVp.js";import{y as ze}from"./index-CV0MY3Fc.js";import{f as Ie,u as Ae}from"./install-B47IWttr.js";import{u as Pe}from"./ConfigProvider-Dyindn-M.js";import{u as W}from"./index-CKHqQBpj.js";import{i as Te}from"./index-C250A6Bf.js";import{u as H,i as _e}from"./index-BkReybPT.js";const ne=Symbol("dialogInjectionKey");/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const De=Object.prototype.hasOwnProperty,Q=(e,t)=>De.call(e,t),Ne=e=>typeof e=="function",re=e=>typeof e=="string",ue=e=>e!==null&&typeof e=="object",je=e=>typeof e=="boolean",Ye=e=>typeof e=="number",Xe=e=>re(e)?!Number.isNaN(Number(e)):!1;function G(e,t="px"){if(!e)return"";if(Ye(e)||Xe(e))return`${e}${t}`;if(re(e))return e}const ie="__epPropKey",ee=e=>e,Ve=e=>ue(e)&&!!e[ie],qe=(e,t)=>{if(!ue(e)||Ve(e))return e;const{values:u,required:s,default:l,type:p,validator:m}=e,g={type:p,required:!!s,validator:u||m?r=>{let d=!1,c=[];if(u&&(c=Array.from(u),Q(e,"default")&&c.push(l),d||(d=c.includes(r))),m&&(d||(d=m(r))),!d&&c.length>0){const i=[...new Set(c)].map(f=>JSON.stringify(f)).join(", ");be(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${i}], got value ${JSON.stringify(r)}.`)}return d}:void 0,[ie]:!0};return Q(e,"default")&&(g.default=l),g},de=e=>Ie(Object.entries(e).map(([t,u])=>[t,qe(u,t)])),Ke=(...e)=>t=>{e.forEach(u=>{Ne(u)?u(t):u.value=t})},fe="update:modelValue",ce=de({fullscreen:Boolean,draggable:Boolean,overflow:{type:Boolean,default:!0},alignCenter:{type:Boolean,default:!1},sizeMode:{type:String,values:["default","fixed","adaptive"],default:"default"},title:{type:String,default:""},headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},width:{type:[String,Number]},ariaLevel:{type:String,default:"2"},footerButtons:{type:Array,default:()=>[]}}),Ge=e=>{const{sizeMode:t,width:u}=e;t==="fixed"&&(!u||u==="")&&console.warn('[g-dialog] When sizeMode is set to "fixed", width must be defined.')},Je={close:()=>!0},Ze=de({...ce,appendToBody:{type:Boolean,default:!1},appendTo:{type:ee([String,Object]),default:"body"},beforeClose:{type:ee(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!0},ariaLevel:{type:String,default:"2"}}),Ue={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[fe]:e=>je(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},We=Symbol(),oe=R();function He(e,t=void 0){const u=te()?q(We,oe):oe;return B(()=>{var s,l;return(l=(s=u.value)==null?void 0:s[e])!=null?l:t})}const Qe=(e,t,{closeOnClickModal:u,closeOnPressEscape:s})=>{const l=te().emit,{nextZIndex:p}=Pe();let m="";const g=W(),r=W(),d=R(!1),c=R(!1),i=R(!1),f=R(e.zIndex??p()),C=B(()=>e.footerButtons?.slice(0,3)||[]),S=B(()=>C.value.length===3?"layout-dual-row":"layout-single-column");let v,y;const h=He("namespace","gui"),x=B(()=>{const $={},J=`--${h.value}-dialog`;return e.fullscreen||(e.top&&($[`${J}-margin-top`]=e.top),e.width&&($[`${J}-width`]=G(e.width))),$}),n=B(()=>e.alignCenter?{display:"flex"}:{});function F(){l("opened")}function L(){l("closed"),l(fe,!1),e.destroyOnClose&&(i.value=!1)}function I(){l("close")}function _(){y?.(),v?.(),e.openDelay&&e.openDelay>0?{stop:v}=H(()=>j(),e.openDelay):j()}function D(){v?.(),y?.(),e.closeDelay&&e.closeDelay>0?{stop:y}=H(()=>b(),e.closeDelay):b()}const A=()=>{e.showClose&&(e.beforeClose?e.beforeClose(b):b())};function X(){u.value&&A()}function j(){_e&&(d.value=!0)}function b(){d.value=!1}function V(){l("openAutoFocus")}function a(){l("closeAutoFocus")}function O($){$.detail?.focusReason==="pointer"&&$.preventDefault()}e.lockScroll&&Fe(d);function P(){s.value&&A()}return Z(()=>e.modelValue,$=>{$?(c.value=!1,_(),i.value=!0,f.value=Te(e.zIndex)?p():f.value++,Se(()=>{l("open"),t.value&&(t.value.parentElement.scrollTop=0,t.value.parentElement.scrollLeft=0,t.value.scrollTop=0)})):d.value&&D()}),Z(()=>e.fullscreen,$=>{t.value&&($?(m=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=m)}),ae(()=>{e.modelValue&&(d.value=!0,i.value=!0,_())}),{afterEnter:F,afterLeave:L,beforeLeave:I,handleClose:A,onModalClick:X,close:D,doClose:b,onOpenAutoFocus:V,onCloseAutoFocus:a,onCloseRequested:P,onFocusoutPrevented:O,titleId:g,bodyId:r,closed:c,style:x,overlayDialogStyle:n,rendered:i,visible:d,zIndex:f,displayButtons:C,buttonLayoutClass:S}},eo=(e,t,u,s)=>{const l={offsetX:0,offsetY:0},p=(i,f)=>{if(e.value){const{offsetX:C,offsetY:S}=l,v=e.value.getBoundingClientRect(),y=v.left,h=v.top,x=v.width,n=v.height,F=document.documentElement.clientWidth,L=document.documentElement.clientHeight,I=-y+C,_=-h+S,D=F-y-x+C,A=L-h-n+S;s?.value||(i=Math.min(Math.max(i,I),D),f=Math.min(Math.max(f,_),A)),l.offsetX=i,l.offsetY=f,e.value.style.transform=`translate(${G(i)}, ${G(f)})`}},m=i=>{const f=i.clientX,C=i.clientY,{offsetX:S,offsetY:v}=l,y=x=>{const n=S+x.clientX-f,F=v+x.clientY-C;p(n,F)},h=()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",h)};document.addEventListener("mousemove",y),document.addEventListener("mouseup",h)},g=()=>{t.value&&e.value&&(t.value.addEventListener("mousedown",m),window.addEventListener("resize",c))},r=()=>{t.value&&e.value&&(t.value.removeEventListener("mousedown",m),window.removeEventListener("resize",c))},d=()=>{l.offsetX=0,l.offsetY=0,e.value&&(e.value.style.transform="")},c=()=>{const{offsetX:i,offsetY:f}=l;p(i,f)};return ae(()=>{ke(()=>{u.value?g():r()})}),Be(()=>{r()}),{resetPosition:d,updatePosition:c}},oo={key:0,class:"header-content"},to=["id"],ao=["aria-level"],so=se({__name:"dialog-content",props:ce,emits:Je,setup(e,{expose:t,emit:u}){const s=e,l=u;Ge(s);const{dialogRef:p,headerRef:m,bodyId:g,ns:r,style:d,displayButtons:c,buttonLayoutClass:i}=q(ne),{focusTrapRef:f}=q(Ee,{focusTrapRef:p,onKeydown:()=>{}}),C=B(()=>{const n=s.fullscreen?"fullscreen":s.sizeMode||"default";return[r.b(),r.is("draggable",s.draggable),r.is("align-center",s.alignCenter),r.is(n)]}),S=Ke(f,p),v=B(()=>s.draggable&&!s.fullscreen),y=B(()=>s.overflow),{resetPosition:h}=eo(p,p,v,y);t({resetPosition:h});const x=()=>{l("close")};return(n,F)=>(k(),M("div",{ref:o(S),class:w(C.value),style:le(o(d)),tabindex:"-1"},[n.showClose||n.$slots.header?(k(),M("header",{key:0,ref_key:"headerRef",ref:m,class:w([o(r).e("header"),n.headerClass])},[n.$slots.header?(k(),M("div",oo,[z(n.$slots,"header")])):T("",!0),n.showClose?(k(),M("button",{key:1,"aria-label":"Close",class:w(o(r).e("headerbtn")),type:"button",onClick:x},[Y(o(Re),{name:"regular times",class:w(o(r).e("close"))},null,8,["class"])],2)):T("",!0)],2)):T("",!0),N("div",{id:o(g),class:w([o(r).e("body"),n.bodyClass])},[N("div",null,[n.$slots.image?(k(),M("div",{key:0,class:w(o(r).e("image"))},[z(n.$slots,"image")],2)):T("",!0),n.title?(k(),M("span",{key:1,class:w(o(r).e("title")),role:"heading","aria-level":n.ariaLevel},U(n.title),11,ao)):T("",!0),N("div",{class:w(o(r).e("content"))},[z(n.$slots,"default")],2)])],10,to),N("footer",{class:w([o(r).e("footer"),n.footerClass])},[z(n.$slots,"footer",{},()=>[s.footerButtons?.length?(k(),M("div",{key:0,class:w([o(r).e("footer-buttons"),o(i)])},[(k(!0),M(Ce,null,he(o(c),(L,I)=>(k(),K(o(ze),{key:I,variant:L.variant,full:"",onClick:L.onClick},{default:E(()=>[we(U(L.text),1)]),_:2},1032,["variant","onClick"]))),128))],2)):T("",!0)])],2)],6))}}),lo=["aria-label","aria-labelledby","aria-describedby"],go=se({__name:"dialog",props:Ze,emits:Ue,setup(e,{expose:t,emit:u}){const s=e,l=Ae("dialog"),p=R(),m=R(),g=R(),r=B(()=>s.showClose&&s.closeOnClickModal),d=B(()=>s.showClose&&s.closeOnPressEscape),{visible:c,titleId:i,bodyId:f,style:C,overlayDialogStyle:S,rendered:v,zIndex:y,afterEnter:h,afterLeave:x,beforeLeave:n,handleClose:F,onModalClick:L,onOpenAutoFocus:I,onCloseAutoFocus:_,onCloseRequested:D,onFocusoutPrevented:A,displayButtons:X,buttonLayoutClass:j}=Qe(s,p,{closeOnClickModal:r,closeOnPressEscape:d});xe(ne,{dialogRef:p,headerRef:m,bodyId:f,ns:l,rendered:v,style:C,displayButtons:X,buttonLayoutClass:j});const b=Me(L),V=B(()=>s.draggable&&!s.fullscreen);return t({visible:c,dialogContentRef:g,resetPosition:()=>{g.value?.resetPosition()}}),(a,O)=>(k(),K(o(Le),{to:a.appendTo,disabled:a.appendTo!=="body"?!1:!a.appendToBody},{default:E(()=>[Y(pe,{name:"dialog-fade",onAfterEnter:o(h),onAfterLeave:o(x),onBeforeLeave:o(n)},{default:E(()=>[ve(Y(o(Oe),{"custom-mask-event":"",mask:a.modal,"overlay-class":a.modalClass,"z-index":o(y)},{default:E(()=>[N("div",{role:"dialog","aria-modal":"true","aria-label":a.title||void 0,"aria-labelledby":a.title?void 0:o(i),"aria-describedby":o(f),class:w(`${o(l).namespace.value}-overlay-dialog`),style:le(o(S)),onClick:O[0]||(O[0]=(...P)=>o(b).onClick&&o(b).onClick(...P)),onMousedown:O[1]||(O[1]=(...P)=>o(b).onMousedown&&o(b).onMousedown(...P)),onMouseup:O[2]||(O[2]=(...P)=>o(b).onMouseup&&o(b).onMouseup(...P))},[Y(o($e),{loop:"",trapped:o(c),"focus-start-el":"container",onFocusAfterTrapped:o(I),onFocusAfterReleased:o(_),onFocusoutPrevented:o(A),onReleaseRequested:o(D)},{default:E(()=>[o(v)?(k(),K(so,me({key:0,ref_key:"dialogContentRef",ref:g},a.$attrs,{"align-center":a.alignCenter,draggable:V.value,overflow:a.overflow,fullscreen:a.fullscreen,"header-class":a.headerClass,"body-class":a.bodyClass,"footer-class":a.footerClass,"show-close":a.showClose,title:a.title,"aria-level":a.ariaLevel,width:a.width,"size-mode":a.sizeMode,"footer-buttons":a.footerButtons,onClose:o(F)}),ye({default:E(()=>[z(a.$slots,"default")]),_:2},[a.$slots.header?{name:"header",fn:E(()=>[z(a.$slots,"header")]),key:"0"}:void 0,a.$slots.image?{name:"image",fn:E(()=>[z(a.$slots,"image")]),key:"1"}:void 0,a.$slots.footer?{name:"footer",fn:E(()=>[z(a.$slots,"footer")]),key:"2"}:void 0]),1040,["align-center","draggable","overflow","fullscreen","header-class","body-class","footer-class","show-close","title","aria-level","width","size-mode","footer-buttons","onClose"])):T("",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,lo)]),_:3},8,["mask","overlay-class","z-index"]),[[ge,o(c)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});export{Ze as e,Ue as o,Qe as s,go as w};
