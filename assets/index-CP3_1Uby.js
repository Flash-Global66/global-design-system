import{w as L,n as g,a as $,i as B,b as F,t as y,c as z,d as A}from"./index-BkReybPT.js";import{c as M,w as S,I as P,B as N,K as E,o as x,g as D,u as _}from"./vue.esm-bundler-DNj4lB-B.js";const R=B?window:void 0;function b(s){var i;const a=E(s);return(i=a?.$el)!=null?i:a}function O(...s){const i=[],a=()=>{i.forEach(o=>o()),i.length=0},u=(o,e,r,t)=>(o.addEventListener(e,r,t),()=>o.removeEventListener(e,r,t)),m=M(()=>{const o=y(E(s[0])).filter(e=>e!=null);return o.every(e=>typeof e!="string")?o:void 0}),c=L(()=>{var o,e;return[(e=(o=m.value)==null?void 0:o.map(r=>b(r)))!=null?e:[R].filter(r=>r!=null),y(E(m.value?s[1]:s[0])),y(_(m.value?s[2]:s[1])),E(m.value?s[3]:s[2])]},([o,e,r,t])=>{if(a(),!o?.length||!e?.length||!r?.length)return;const d=F(t)?{...t}:t;i.push(...o.flatMap(f=>e.flatMap(v=>r.map(h=>u(f,v,h,d)))))},{flush:"post"}),p=()=>{c(),a()};return A(a),p}let C=!1;function V(s,i,a={}){const{window:u=R,ignore:m=[],capture:c=!0,detectIframe:p=!1,controls:o=!1}=a;if(!u)return o?{stop:g,cancel:g,trigger:g}:g;if($&&!C){C=!0;const n={passive:!0};Array.from(u.document.body.children).forEach(l=>O(l,"click",g,n)),O(u.document.documentElement,"click",g,n)}let e=!0;const r=n=>E(m).some(l=>{if(typeof l=="string")return Array.from(u.document.querySelectorAll(l)).some(w=>w===n.target||n.composedPath().includes(w));{const w=b(l);return w&&(n.target===w||n.composedPath().includes(w))}});function t(n){const l=E(n);return l&&l.$.subTree.shapeFlag===16}function d(n,l){const w=E(n),k=w.$.subTree&&w.$.subTree.children;return k==null||!Array.isArray(k)?!1:k.some(W=>W.el===l.target||l.composedPath().includes(W.el))}const f=n=>{const l=b(s);if(n.target!=null&&!(!(l instanceof Element)&&t(s)&&d(s,n))&&!(!l||l===n.target||n.composedPath().includes(l))){if("detail"in n&&n.detail===0&&(e=!r(n)),!e){e=!0;return}i(n)}};let v=!1;const h=[O(u,"click",n=>{v||(v=!0,setTimeout(()=>{v=!1},0),f(n))},{passive:!0,capture:c}),O(u,"pointerdown",n=>{const l=b(s);e=!r(n)&&!!(l&&!n.composedPath().includes(l))},{passive:!0}),p&&O(u,"blur",n=>{setTimeout(()=>{var l;const w=b(s);((l=u.document.activeElement)==null?void 0:l.tagName)==="IFRAME"&&!w?.contains(u.document.activeElement)&&i(n)},0)},{passive:!0})].filter(Boolean),I=()=>h.forEach(n=>n());return o?{stop:I,cancel:()=>{e=!1},trigger:n=>{e=!0,f(n),e=!1}}:I}function j(){const s=P(!1),i=D();return i&&x(()=>{s.value=!0},i),s}function T(s){const i=j();return M(()=>(i.value,!!s()))}function q(s,i,a={}){const{window:u=R,...m}=a;let c;const p=T(()=>u&&"MutationObserver"in u),o=()=>{c&&(c.disconnect(),c=void 0)},e=M(()=>{const f=E(s),v=y(f).map(b).filter(z);return new Set(v)}),r=S(()=>e.value,f=>{o(),p.value&&f.size&&(c=new MutationObserver(i),f.forEach(v=>c.observe(v,m)))},{immediate:!0,flush:"post"}),t=()=>c?.takeRecords(),d=()=>{r(),o()};return A(d),{isSupported:p,stop:d,takeRecords:t}}function H(s,i,a={}){const{window:u=R,document:m=u?.document,flush:c="sync"}=a;if(!u||!m)return g;let p;const o=t=>{p?.(),p=t},e=N(()=>{const t=b(s);if(t){const{stop:d}=q(m,f=>{f.map(h=>[...h.removedNodes]).flat().some(h=>h===t||h.contains(t))&&i(f)},{window:u,childList:!0,subtree:!0});o(d)}},{flush:c}),r=()=>{e(),o()};return A(r),r}function G(s={}){var i;const{window:a=R,deep:u=!0,triggerOnRemoval:m=!1}=s,c=(i=s.document)!=null?i:a?.document,p=()=>{var r;let t=c?.activeElement;if(u)for(;t?.shadowRoot;)t=(r=t?.shadowRoot)==null?void 0:r.activeElement;return t},o=P(),e=()=>{o.value=p()};if(a){const r={capture:!0,passive:!0};O(a,"blur",t=>{t.relatedTarget===null&&e()},r),O(a,"focus",e,r)}return m&&H(o,e,{document:c}),e(),o}function J(s,i,a={}){const{window:u=R,...m}=a;let c;const p=T(()=>u&&"ResizeObserver"in u),o=()=>{c&&(c.disconnect(),c=void 0)},e=M(()=>{const d=E(s);return Array.isArray(d)?d.map(f=>b(f)):[b(d)]}),r=S(e,d=>{if(o(),p.value&&u){c=new ResizeObserver(i);for(const f of d)f&&c.observe(f,m)}},{immediate:!0,flush:"post"}),t=()=>{o(),r()};return A(t),{isSupported:p,stop:t}}function Q(s,i,a={}){const{root:u,rootMargin:m="0px",threshold:c=0,window:p=R,immediate:o=!0}=a,e=T(()=>p&&"IntersectionObserver"in p),r=M(()=>{const h=E(s);return y(h).map(b).filter(z)});let t=g;const d=P(o),f=e.value?S(()=>[r.value,b(u),d.value],([h,I])=>{if(t(),!d.value||!h.length)return;const n=new IntersectionObserver(i,{root:b(I),rootMargin:m,threshold:c});h.forEach(l=>l&&n.observe(l)),t=()=>{n.disconnect(),t=g}},{immediate:o,flush:"post"}):g,v=()=>{t(),f(),d.value=!1};return A(v),{isSupported:e,isActive:d,pause(){t(),d.value=!1},resume(){d.value=!0},stop:v}}export{J as a,G as b,b as c,Q as d,V as o,O as u};
