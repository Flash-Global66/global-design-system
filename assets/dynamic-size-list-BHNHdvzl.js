import{b as Qt}from"./debounce-C_YaMYrY.js";import{f as jt,k as te}from"./index-CKHqQBpj.js";import{b as Lt}from"./isEqual-BKrdcPcp.js";import{x as ee,U as At,L as pt,k as ne,O as se,F as re,a as lt,V as oe,o as at,G as W,l as Z,u as dt,e as et}from"./install-B47IWttr.js";import{h as le,i as ae}from"./index-DG2QIyoI.js";import{I as ie,r as N,c as w,g as _t,d as Nt,H as ce,u as m,w as ue,C as fe,N as k,a1 as de,F as me,R as Et,P as It,o as he,U as ve,S as Se,D as nt,am as ge}from"./vue.esm-bundler-DNj4lB-B.js";import{a as ye,u as be}from"./index-CJz6wvsP.js";import{m as we}from"./typescript-Bp3YSIOJ.js";var Me=1,Ee=2;function Ie(t,e,n,r){var s=n.length,l=s;if(t==null)return!l;for(t=Object(t);s--;){var a=n[s];if(a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++s<l;){a=n[s];var d=a[0],u=t[d],f=a[1];if(a[2]){if(u===void 0&&!(d in t))return!1}else{var o=new jt,h;if(!(h===void 0?Lt(f,u,Me|Ee,r,o):h))return!1}}return!0}function Ct(t){return t===t&&!ee(t)}function Oe(t){for(var e=te(t),n=e.length;n--;){var r=e[n],s=t[r];e[n]=[r,s,Ct(s)]}return e}function Dt(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function Re(t){var e=Oe(t);return e.length==1&&e[0][2]?Dt(e[0][0],e[0][1]):function(n){return n===t||Ie(n,t,e)}}var ze=1,Te=2;function xe(t,e){return At(t)&&Ct(e)?Dt(pt(t),e):function(n){var r=ne(n,t);return r===void 0&&r===e?le(n,t):Lt(e,r,ze|Te)}}function Le(t){return function(e){return e?.[t]}}function Ae(t){return function(e){return se(e,t)}}function pe(t){return At(t)?Le(pt(t)):Ae(t)}function _e(t){return typeof t=="function"?t:t==null?ae:typeof t=="object"?re(t)?xe(t[0],t[1]):Re(t):pe(t)}function ln(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var s=r-1;return Qt(t,_e(e),s,!0)}const Ft=t=>lt?window.requestAnimationFrame(t):setTimeout(t,16),Pt=t=>lt?window.cancelAnimationFrame(t):clearTimeout(t),Ne=()=>lt&&/firefox/i.test(window.navigator.userAgent),Ce={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}};function an(){const t=ie(),e=N(0),n=11,r=w(()=>({minWidth:`${Math.max(e.value,n)}px`}));return ye(t,()=>{var l,a;e.value=(a=(l=t.value)==null?void 0:l.getBoundingClientRect().width)!=null?a:0}),{calculatorRef:t,calculatorWidth:e,inputStyle:r}}var Ot=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function De(t,e){return!!(t===e||Ot(t)&&Ot(e))}function Fe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!De(t[n],e[n]))return!1;return!0}function Pe(t,e){e===void 0&&(e=Fe);var n=null;function r(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];if(n&&n.lastThis===this&&e(s,n.lastArgs))return n.lastResult;var a=t.apply(this,s);return n={lastResult:a,lastArgs:s,lastThis:this},a}return r.clear=function(){n=null},r}const $e=()=>{const e=_t().proxy.$props;return w(()=>{const n=(r,s,l)=>({});return e.perfMode?oe(n):Pe(n)})},ke=50,Rt="itemRendered",zt="scroll",$t="forward",kt="backward",J="auto",Wt="smart",Gt="start",rt="center",Bt="end",V="horizontal",bt="vertical",We="ltr",st="rtl",mt="negative",Ht="positive-ascending",Ut="positive-descending",Ge={[V]:"left",[bt]:"top"},Be=20,He={[V]:"deltaX",[bt]:"deltaY"},Ue=({atEndEdge:t,atStartEdge:e,layout:n},r)=>{let s,l=0;const a=u=>u<0&&e.value||u>0&&t.value;return{hasReachedEdge:a,onWheel:u=>{Pt(s);const f=u[He[n.value]];a(l)&&a(l+f)||(l+=f,Ne()||u.preventDefault(),s=Ft(()=>{r(l),l=0}))}}},ht=W({type:Z([Number,Function]),required:!0}),vt=W({type:Number}),St=W({type:Number,default:2}),qe=W({type:String,values:["ltr","rtl"],default:"ltr"}),gt=W({type:Number,default:0}),ot=W({type:Number,required:!0}),qt=W({type:String,values:["horizontal","vertical"],default:bt}),Vt=at({className:{type:String,default:""},containerElement:{type:Z([String,Object]),default:"div"},data:{type:Z(Array),default:()=>we([])},direction:qe,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:Z([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),Ve=at({cache:St,estimatedItemSize:vt,layout:qt,initScrollOffset:gt,total:ot,itemSize:ht,...Vt}),yt={type:Number,default:6},Kt={type:Number,default:0},Yt={type:Number,default:2};at({columnCache:St,columnWidth:ht,estimatedColumnWidth:vt,estimatedRowHeight:vt,initScrollLeft:gt,initScrollTop:gt,itemKey:{type:Z(Function),default:({columnIndex:t,rowIndex:e})=>`${e}:${t}`},rowCache:St,rowHeight:ht,totalColumn:ot,totalRow:ot,hScrollbarSize:yt,vScrollbarSize:yt,scrollbarStartGap:Kt,scrollbarEndGap:Yt,role:String,...Vt});const Ke=at({alwaysOn:Boolean,class:String,layout:qt,total:ot,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:yt,startGap:Kt,endGap:Yt,visible:Boolean}),ft=(t,e)=>t<e?$t:kt,Q=t=>t===We||t===st||t===V;let U=null;function Tt(t=!1){if(U===null||t){const e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";const r=document.createElement("div"),s=r.style;return s.width="100px",s.height="100px",e.appendChild(r),document.body.appendChild(e),e.scrollLeft>0?U=Ut:(e.scrollLeft=1,e.scrollLeft===0?U=mt:U=Ht),document.body.removeChild(e),U}return U}function Ye({move:t,size:e,bar:n},r){const s={},l=`translate${n.axis}(${t}px)`;return s[n.size]=e,s.transform=l,r==="horizontal"?s.height="100%":s.width="100%",s}const Xe=Nt({name:"ElVirtualScrollBar",props:Ke,emits:["scroll","start-move","stop-move"],setup(t,{emit:e}){const n=w(()=>t.startGap+t.endGap),r=dt("virtual-scrollbar"),s=dt("scrollbar"),l=N(),a=N();let d=null,u=null;const f=ce({isDragging:!1,traveled:0}),o=w(()=>Ce[t.layout]),h=w(()=>t.clientSize-m(n)),b=w(()=>({position:"absolute",width:`${V===t.layout?h.value:t.scrollbarSize}px`,height:`${V===t.layout?t.scrollbarSize:h.value}px`,[Ge[t.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),C=w(()=>{const c=t.ratio,M=t.clientSize;if(c>=100)return Number.POSITIVE_INFINITY;if(c>=50)return c*M/100;const T=M/3;return Math.floor(Math.min(Math.max(c*M,Be),T))}),D=w(()=>{if(!Number.isFinite(C.value))return{display:"none"};const c=`${C.value}px`;return Ye({bar:o.value,size:c,move:f.traveled},t.layout)}),O=w(()=>Math.floor(t.clientSize-C.value-m(n))),F=()=>{window.addEventListener("mousemove",S),window.addEventListener("mouseup",L);const c=m(a);c&&(u=document.onselectstart,document.onselectstart=()=>!1,c.addEventListener("touchmove",S,{passive:!0}),c.addEventListener("touchend",L))},z=()=>{window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",L),document.onselectstart=u,u=null;const c=m(a);c&&(c.removeEventListener("touchmove",S),c.removeEventListener("touchend",L))},P=c=>{c.stopImmediatePropagation(),!(c.ctrlKey||[1,2].includes(c.button))&&(f.isDragging=!0,f[o.value.axis]=c.currentTarget[o.value.offset]-(c[o.value.client]-c.currentTarget.getBoundingClientRect()[o.value.direction]),e("start-move"),F())},L=()=>{f.isDragging=!1,f[o.value.axis]=0,e("stop-move"),z()},S=c=>{const{isDragging:M}=f;if(!M||!a.value||!l.value)return;const T=f[o.value.axis];if(!T)return;Pt(d);const x=(l.value.getBoundingClientRect()[o.value.direction]-c[o.value.client])*-1,p=a.value[o.value.offset]-T,$=x-p;d=Ft(()=>{f.traveled=Math.max(t.startGap,Math.min($,O.value)),e("scroll",$,O.value)})},G=c=>{const M=Math.abs(c.target.getBoundingClientRect()[o.value.direction]-c[o.value.client]),T=a.value[o.value.offset]/2,x=M-T;f.traveled=Math.max(0,Math.min(x,O.value)),e("scroll",x,O.value)};return ue(()=>t.scrollFrom,c=>{f.isDragging||(f.traveled=Math.ceil(c*O.value))}),fe(()=>{z()}),()=>k("div",{role:"presentation",ref:l,class:[r.b(),t.class,(t.alwaysOn||f.isDragging)&&"always-on"],style:b.value,onMousedown:de(G,["stop","prevent"]),onTouchstartPrevent:P},k("div",{ref:a,class:s.e("thumb"),style:D.value,onMousedown:P},[]))}}),Xt=({name:t,getOffset:e,getItemSize:n,getItemOffset:r,getEstimatedTotalSize:s,getStartIndexForOffset:l,getStopIndexForStartIndex:a,initCache:d,clearCache:u,validateProps:f})=>Nt({name:t??"ElVirtualList",props:Ve,emits:[Rt,zt],setup(o,{emit:h,expose:b}){f(o);const C=_t(),D=dt("vl"),O=N(d(o,C)),F=$e(),z=N(),P=N(),L=N(),S=N({isScrolling:!1,scrollDir:"forward",scrollOffset:et(o.initScrollOffset)?o.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:o.scrollbarAlwaysOn}),G=w(()=>{const{total:i,cache:v}=o,{isScrolling:g,scrollDir:R,scrollOffset:y}=m(S);if(i===0)return[0,0,0,0];const E=l(o,y,m(O)),I=a(o,E,y,m(O)),B=!g||R===kt?Math.max(1,v):1,H=!g||R===$t?Math.max(1,v):1;return[Math.max(0,E-B),Math.max(0,Math.min(i-1,I+H)),E,I]}),c=w(()=>s(o,m(O))),M=w(()=>Q(o.layout)),T=w(()=>[{position:"relative",[`overflow-${M.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:o.direction,height:et(o.height)?`${o.height}px`:o.height,width:et(o.width)?`${o.width}px`:o.width},o.style]),x=w(()=>{const i=m(c),v=m(M);return{height:v?"100%":`${i}px`,pointerEvents:m(S).isScrolling?"none":void 0,width:v?`${i}px`:"100%"}}),p=w(()=>M.value?o.width:o.height),{onWheel:$}=Ue({atStartEdge:w(()=>S.value.scrollOffset<=0),atEndEdge:w(()=>S.value.scrollOffset>=c.value),layout:w(()=>o.layout)},i=>{var v,g;(g=(v=L.value).onMouseUp)==null||g.call(v),A(Math.min(S.value.scrollOffset+i,c.value-p.value))});be(z,"wheel",$,{passive:!1});const K=()=>{const{total:i}=o;if(i>0){const[y,E,I,B]=m(G);h(Rt,y,E,I,B)}const{scrollDir:v,scrollOffset:g,updateRequested:R}=m(S);h(zt,v,g,R)},it=i=>{const{clientHeight:v,scrollHeight:g,scrollTop:R}=i.currentTarget,y=m(S);if(y.scrollOffset===R)return;const E=Math.max(0,Math.min(R,g-v));S.value={...y,isScrolling:!0,scrollDir:ft(y.scrollOffset,E),scrollOffset:E,updateRequested:!1},nt(X)},ct=i=>{const{clientWidth:v,scrollLeft:g,scrollWidth:R}=i.currentTarget,y=m(S);if(y.scrollOffset===g)return;const{direction:E}=o;let I=g;if(E===st)switch(Tt()){case mt:{I=-g;break}case Ut:{I=R-v-g;break}}I=Math.max(0,Math.min(I,R-v)),S.value={...y,isScrolling:!0,scrollDir:ft(y.scrollOffset,I),scrollOffset:I,updateRequested:!1},nt(X)},j=i=>{m(M)?ct(i):it(i),K()},tt=(i,v)=>{const g=(c.value-p.value)/v*i;A(Math.min(c.value-p.value,g))},A=i=>{i=Math.max(i,0),i!==m(S).scrollOffset&&(S.value={...m(S),scrollOffset:i,scrollDir:ft(m(S).scrollOffset,i),updateRequested:!0},nt(X))},Y=(i,v=J)=>{const{scrollOffset:g}=m(S);i=Math.max(0,Math.min(i,o.total-1)),A(e(o,i,v,g,m(O)))},ut=i=>{const{direction:v,itemSize:g,layout:R}=o,y=F.value(u&&g,u&&R,u&&v);let E;if(ge(y,String(i)))E=y[i];else{const I=r(o,i,m(O)),B=n(o,i,m(O)),H=m(M),wt=v===st,Mt=H?I:0;y[i]=E={position:"absolute",left:wt?void 0:`${Mt}px`,right:wt?`${Mt}px`:void 0,top:H?0:`${I}px`,height:H?"100%":`${B}px`,width:H?`${B}px`:"100%"}}return E},X=()=>{S.value.isScrolling=!1,nt(()=>{F.value(-1,null,null)})},_=()=>{const i=z.value;i&&(i.scrollTop=0)};he(()=>{if(!lt)return;const{initScrollOffset:i}=o,v=m(z);et(i)&&v&&(m(M)?v.scrollLeft=i:v.scrollTop=i),K()}),ve(()=>{const{direction:i,layout:v}=o,{scrollOffset:g,updateRequested:R}=m(S),y=m(z);if(R&&y)if(v===V)if(i===st)switch(Tt()){case mt:{y.scrollLeft=-g;break}case Ht:{y.scrollLeft=g;break}default:{const{clientWidth:E,scrollWidth:I}=y;y.scrollLeft=I-E-g;break}}else y.scrollLeft=g;else y.scrollTop=g}),Se(()=>{m(z).scrollTop=m(S).scrollOffset});const Jt={ns:D,clientSize:p,estimatedTotalSize:c,windowStyle:T,windowRef:z,innerRef:P,innerStyle:x,itemsToRender:G,scrollbarRef:L,states:S,getItemStyle:ut,onScroll:j,onScrollbarScroll:tt,onWheel:$,scrollTo:A,scrollToItem:Y,resetScrollTop:_};return b({windowRef:z,innerRef:P,getItemStyleCache:F,scrollTo:A,scrollToItem:Y,resetScrollTop:_,states:S}),Jt},render(o){var h;const{$slots:b,className:C,clientSize:D,containerElement:O,data:F,getItemStyle:z,innerElement:P,itemsToRender:L,innerStyle:S,layout:G,total:c,onScroll:M,onScrollbarScroll:T,states:x,useIsScrolling:p,windowStyle:$,ns:K}=o,[it,ct]=L,j=It(O),tt=It(P),A=[];if(c>0)for(let _=it;_<=ct;_++)A.push(k(me,{key:_},(h=b.default)==null?void 0:h.call(b,{data:F,index:_,isScrolling:p?x.isScrolling:void 0,style:z(_)})));const Y=[k(tt,{style:S,ref:"innerRef"},Et(tt)?A:{default:()=>A})],ut=k(Xe,{ref:"scrollbarRef",clientSize:D,layout:G,onScroll:T,ratio:D*100/this.estimatedTotalSize,scrollFrom:x.scrollOffset/(this.estimatedTotalSize-D),total:c}),X=k(j,{class:[K.e("window"),C],style:$,onScroll:M,ref:"windowRef",key:0},Et(j)?[Y]:{default:()=>[Y]});return k("div",{key:0,class:[K.e("wrapper"),x.scrollbarAlwaysOn?"always-on":""]},[X,ut])}}),cn=Xt({name:"ElFixedSizeList",getItemOffset:({itemSize:t},e)=>e*t,getItemSize:({itemSize:t})=>t,getEstimatedTotalSize:({total:t,itemSize:e})=>e*t,getOffset:({height:t,total:e,itemSize:n,layout:r,width:s},l,a,d)=>{const u=Q(r)?s:t,f=Math.max(0,e*n-u),o=Math.min(f,l*n),h=Math.max(0,(l+1)*n-u);switch(a===Wt&&(d>=h-u&&d<=o+u?a=J:a=rt),a){case Gt:return o;case Bt:return h;case rt:{const b=Math.round(h+(o-h)/2);return b<Math.ceil(u/2)?0:b>f+Math.floor(u/2)?f:b}case J:default:return d>=h&&d<=o?d:d<h?h:o}},getStartIndexForOffset:({total:t,itemSize:e},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getStopIndexForStartIndex:({height:t,total:e,itemSize:n,layout:r,width:s},l,a)=>{const d=l*n,u=Q(r)?s:t,f=Math.ceil((u+a-d)/n);return Math.max(0,Math.min(e-1,l+f-1))},initCache(){},clearCache:!0,validateProps(){}}),q=(t,e,n)=>{const{itemSize:r}=t,{items:s,lastVisitedIndex:l}=n;if(e>l){let a=0;if(l>=0){const d=s[l];a=d.offset+d.size}for(let d=l+1;d<=e;d++){const u=r(d);s[d]={offset:a,size:u},a+=u}n.lastVisitedIndex=e}return s[e]},Ze=(t,e,n)=>{const{items:r,lastVisitedIndex:s}=e;return(s>0?r[s].offset:0)>=n?Zt(t,e,0,s,n):Je(t,e,Math.max(0,s),n)},Zt=(t,e,n,r,s)=>{for(;n<=r;){const l=n+Math.floor((r-n)/2),a=q(t,l,e).offset;if(a===s)return l;a<s?n=l+1:a>s&&(r=l-1)}return Math.max(0,n-1)},Je=(t,e,n,r)=>{const{total:s}=t;let l=1;for(;n<s&&q(t,n,e).offset<r;)n+=l,l*=2;return Zt(t,e,Math.floor(n/2),Math.min(n,s-1),r)},xt=({total:t},{items:e,estimatedItemSize:n,lastVisitedIndex:r})=>{let s=0;if(r>=t&&(r=t-1),r>=0){const d=e[r];s=d.offset+d.size}const a=(t-r-1)*n;return s+a},un=Xt({name:"ElDynamicSizeList",getItemOffset:(t,e,n)=>q(t,e,n).offset,getItemSize:(t,e,{items:n})=>n[e].size,getEstimatedTotalSize:xt,getOffset:(t,e,n,r,s)=>{const{height:l,layout:a,width:d}=t,u=Q(a)?d:l,f=q(t,e,s),o=xt(t,s),h=Math.max(0,Math.min(o-u,f.offset)),b=Math.max(0,f.offset-u+f.size);switch(n===Wt&&(r>=b-u&&r<=h+u?n=J:n=rt),n){case Gt:return h;case Bt:return b;case rt:return Math.round(b+(h-b)/2);case J:default:return r>=b&&r<=h?r:r<b?b:h}},getStartIndexForOffset:(t,e,n)=>Ze(t,n,e),getStopIndexForStartIndex:(t,e,n,r)=>{const{height:s,total:l,layout:a,width:d}=t,u=Q(a)?d:s,f=q(t,e,r),o=n+u;let h=f.offset+f.size,b=e;for(;b<l-1&&h<o;)b++,h+=q(t,b,r).size;return b},initCache({estimatedItemSize:t=ke},e){const n={items:{},estimatedItemSize:t,lastVisitedIndex:-1};return n.clearCacheAfterIndex=(r,s=!0)=>{var l,a;n.lastVisitedIndex=Math.min(n.lastVisitedIndex,r-1),(l=e.exposed)==null||l.getItemStyleCache(-1),s&&((a=e.proxy)==null||a.$forceUpdate())},n},clearCache:!1,validateProps:({itemSize:t})=>{}});export{un as D,cn as F,_e as b,ln as f,an as u};
