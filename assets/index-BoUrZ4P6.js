import{aa as i,a7 as w,c as C,w as g,N as k,d as x,h as M,I as S,s as m}from"./vue.esm-bundler-C43JrhH2.js";import{a as y,u as v}from"./index-D5bIuBCX.js";import{t as O}from"./error-Cq9Fpw4b.js";import{h as p,a as E,g as N,r as P}from"./style-c1qAcfu9.js";import{b as T,d as f}from"./install-CfJGiCvs.js";import{P as u}from"./vnode-Bc34_Ya7.js";let d;const W=o=>{var s;if(!y)return 0;if(d!==void 0)return d;const e=document.createElement("div");e.className=`${o}-scrollbar__wrap`,e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);const a=e.offsetWidth;e.style.overflow="scroll";const n=document.createElement("div");n.style.width="100%",e.appendChild(n);const l=n.offsetWidth;return(s=e.parentNode)==null||s.removeChild(e),d=a-l,d},B=o=>{if(!o)return{onClick:i,onMousedown:i,onMouseup:i};let s=!1,e=!1;return{onClick:t=>{s&&e&&o(t),s=e=!1},onMousedown:t=>{s=t.target===t.currentTarget},onMouseup:t=>{e=t.target===t.currentTarget}}},j=(o,s={})=>{w(o)||O("[useLockscreen]","You need to pass a ref param to this function");const e=s.ns||v("popup"),a=C(()=>e.bm("parent","hidden"));if(!y||p(document.body,a.value))return;let n=0,l=!1,t="0";const r=()=>{setTimeout(()=>{typeof document>"u"||l&&document&&(document.body.style.width=t,P(document.body,a.value))},200)};g(o,c=>{if(!c){r();return}l=!p(document.body,a.value),l&&(t=document.body.style.width,E(document.body,a.value)),n=W(e.namespace.value);const h=document.documentElement.clientHeight<document.body.scrollHeight,b=N(document.body,"overflowY");n>0&&(h||b==="scroll")&&l&&(document.body.style.width=`calc(100% - ${n}px)`)}),k(()=>r())},I=T({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:f([String,Array,Object])},zIndex:{type:f([String,Number])}}),z={click:o=>o instanceof MouseEvent},L="overlay",H=x({name:"GOverlay",props:I,emits:z,setup(o,{slots:s,emit:e}){const a=v(L),n=c=>{e("click",c)},{onClick:l,onMousedown:t,onMouseup:r}=B(o.customMaskEvent?void 0:n);return()=>o.mask?M("div",{class:[a.b(),o.overlayClass],style:{zIndex:o.zIndex},onClick:l,onMousedown:t,onMouseup:r},[m(s,"default")],u.STYLE|u.CLASS|u.PROPS,["onClick","onMouseup","onMousedown"]):S("div",{class:o.overlayClass,style:{zIndex:o.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[m(s,"default")])}}),D=H;export{D as G,B as a,j as u};
