import{d as be,W as we,X as Ee,r as P,c as n,I as Se,x as C,w as R,D as Y,o as Ce,e as m,k as B,m as b,s as _,l as u,u as s,b as N,n as Q,y as $,p as ke,t as Ie}from"./vue.esm-bundler-DNj4lB-B.js";import{a as Pe}from"./index-CP3_1Uby.js";import{v as O}from"./index-CaVzmfVp.js";import{G as Be,Y as Ne,H as $e}from"./index-CKHqQBpj.js";import{f as Oe,u as je,h as Fe}from"./install-B47IWttr.js";import{u as Me}from"./index-DG2QIyoI.js";import{u as Re,a as _e}from"./index-tPx7VOd5.js";import{u as Ae,a as Te}from"./index-DxdbiDHw.js";import{U as T}from"./event-HEVJa2N9.js";/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Ve=Object.prototype.hasOwnProperty,Z=(e,i)=>Ve.call(e,i),A=e=>typeof e=="string",ae=e=>e!==null&&typeof e=="object";const ze=e=>e,te="__epPropKey",j=e=>e,qe=e=>ae(e)&&!!e[te],De=(e,i)=>{if(!ae(e)||qe(e))return e;const{values:p,required:t,default:r,type:o,validator:w}=e,k={type:o,required:!!t,validator:p||w?v=>{let c=!1,f=[];if(p&&(f=Array.from(p),Z(e,"default")&&f.push(r),c||(c=f.includes(v))),w&&(c||(c=w(v))),!c&&f.length>0){const d=[...new Set(f)].map(y=>JSON.stringify(y)).join(", ");Ie(`Invalid prop: validation failed${i?` for prop "${i}"`:""}. Expected one of [${d}], got value ${JSON.stringify(v)}.`)}return c}:void 0,[te]:!0};return Z(e,"default")&&(k.default=r),k},Le=e=>Oe(Object.entries(e).map(([i,p])=>[i,De(p,i)])),Ue=(e,i)=>{if(e.install=p=>{for(const t of[e,...Object.values(i??{})])p.component(t.name,t)},i)for(const[p,t]of Object.entries(i))e[p]=t;return e},We=Le({id:{type:String,default:void 0},helpText:{type:String,default:void 0},loading:{type:Boolean,default:!1},label:{type:String,default:void 0},messageError:{type:String,default:void 0},disabled:Boolean,modelValue:{type:j([String,Number,Object]),default:""},maxlength:{type:[String,Number],default:50},minlength:{type:[String,Number]},type:{type:String,default:"text"},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:j(String),default:""},prefixIcon:{type:j(String),default:""},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},isEvent:{type:Boolean,default:!1},inputStyle:{type:j([Object,Array,String]),default:()=>ze({})},autofocus:Boolean,...Me(["ariaLabel"])}),Ge={[T]:e=>A(e),click:e=>e instanceof MouseEvent,input:e=>A(e),change:e=>A(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},He=["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role"],ee=be({name:"Input",inheritAttrs:!1,__name:"input",props:We,emits:Ge,setup(e,{expose:i,emit:p}){const t=e,r=p,o=je("input"),w=we(),k=Re(),v=Ee(),c=P(void 0),f=P(null),{formItem:d}=Be(),y=n(()=>d?.shouldShowErrorChild||!!t?.messageError),F=n(()=>t?.messageError?t.messageError:d?.validateMessage),oe=n(()=>[o.b(),o.is("label",!!t.label),o.is("disabled",E.value),o.is("focus",M.value),o.is("complete",!M.value&&!!h.value),o.is("disabled",E.value),o.is("exceed",ce.value),o.is("error",y.value||d?.shouldShowError),o.is("event",t.isEvent),o.is("loading",t.loading),o.is("readonly",t.readonly),{[o.m("prefix")]:t.prefixIcon||v.prefix,[o.m("suffix")]:v.suffix||t.suffixIcon||t.showPassword,[o.is("password")]:t.showPassword,[o.b("hidden")]:t.type==="hidden"},w.class]),se=n(()=>[o.e("help-text"),{[o.e("help-error")]:y.value}]),le=n(()=>F.value||t.helpText||d?.$el),{inputId:re}=$e(t,{formItemContext:d}),E=Ne(),g=Se(),V=P(!1),I=P(!1),z=n(()=>g.value),{wrapperRef:ne,isFocused:M}=Ae(g,{beforeFocus(){return E.value},afterBlur(){t.validateEvent&&d?.validate?.("blur").catch(a=>void 0)}}),ie=n(()=>{const a=!!h.value||M.value;return{left:a?void 0:`calc(${c.value} + 16px)`,zIndex:a?void 0:10}}),ue=n(()=>I.value?"regular eye":"regular eye-slash"),pe=n(()=>[w.style]),h=n(()=>Fe(t.modelValue)?"":String(t.modelValue)),q=n(()=>t.showWordLimit&&!!t.maxlength&&t.type==="text"&&!E.value&&!t.readonly&&!t.showPassword),D=n(()=>h.value.length),ce=n(()=>!!q.value&&D.value>Number(t.maxlength));n(()=>!!t.suffixIcon||t.showPassword);const[L,U]=_e(g),S=()=>{const a=z.value,l=t.formatter?t.formatter(h.value):h.value;!a||a.value===l||(a.value=l)},W=async a=>{L();let{value:l}=a.target;if(t.formatter&&(l=t.parser?t.parser(l):l),!G.value){if(l===h.value){S();return}r(T,l),r("input",l),await Y(),S(),U()}},fe=a=>{r("change",a.target.value)},{isComposing:G,handleCompositionStart:H,handleCompositionUpdate:J,handleCompositionEnd:K}=Te({emit:r,afterComposition:W}),X=()=>{L(),I.value=!I.value,setTimeout(U)},de=()=>g.value?.focus(),me=()=>g.value?.blur(),ve=a=>{V.value=!1,r("mouseleave",a)},ye=a=>{V.value=!0,r("mouseenter",a)},ge=a=>{r("keydown",a)},he=()=>{g.value?.select()},xe=()=>{r(T,""),r("change",""),r("clear"),r("input","")};return R(()=>t.modelValue,()=>{t.validateEvent&&d?.validate?.("change").catch(a=>void 0)}),R(h,()=>S()),R(()=>t.type,async()=>{await Y(),S()}),Ce(()=>{!t.formatter&&t.parser&&(o.b(),void 0),S()}),Pe(f,()=>{if(!t.prefixIcon&&!v.prefix){c.value="0";return}requestAnimationFrame(()=>{const a=f.value?.getBoundingClientRect().width;c.value=`${a}px`})}),i({ref:z,isComposing:G,focus:de,blur:me,select:he,clear:xe}),(a,l)=>(m(),C("div",{class:u([oe.value]),style:Q(pe.value),onMouseenter:ye,onMouseleave:ve},[B("div",{ref_key:"wrapperRef",ref:ne,class:u(s(o).e("wrapper")),onClick:l[3]||(l[3]=x=>a.isEvent?r("click",x):void 0)},[B("div",{ref_key:"prefixRef",ref:f,class:u(s(o).e("prefix"))},[_(a.$slots,"prefix",{},()=>[a.prefixIcon?(m(),N(s(O),{key:0,class:u([s(o).e("icon"),s(o).e("prefix-icon")]),name:a.prefixIcon},null,8,["class","name"])):b("",!0)])],2),a.label?(m(),C("div",{key:0,class:u([s(o).e("label")]),style:Q(ie.value)},$(a.label),7)):b("",!0),B("input",ke({id:s(re),ref_key:"input",ref:g,class:[s(o).e("inner")]},s(k),{minlength:a.minlength,maxlength:a.maxlength,type:a.showPassword?I.value?"text":"password":a.type,disabled:s(E),readonly:a.readonly||a.loading||a.isEvent,autocomplete:a.autocomplete,tabindex:a.tabindex,"aria-label":a.ariaLabel,placeholder:a.placeholder,form:a.form,autofocus:a.autofocus,role:a.containerRole,onCompositionstart:l[0]||(l[0]=(...x)=>s(H)&&s(H)(...x)),onCompositionupdate:l[1]||(l[1]=(...x)=>s(J)&&s(J)(...x)),onCompositionend:l[2]||(l[2]=(...x)=>s(K)&&s(K)(...x)),onInput:W,onChange:fe,onKeydown:ge}),null,16,He),_(a.$slots,"suffix",{},()=>[B("span",{class:u(s(o).e("suffix"))},[a.suffixIcon&&!a.showPassword&&!a.loading?(m(),N(s(O),{key:0,class:u([s(o).e("icon"),s(o).e("suffix-icon")]),name:a.suffixIcon},null,8,["class","name"])):b("",!0),a.showPassword?(m(),N(s(O),{key:1,class:u([s(o).e("icon"),s(o).e("icon-password")]),name:ue.value,onClick:X},null,8,["class","name"])):b("",!0),a.loading?(m(),N(s(O),{key:2,class:u([s(o).e("icon"),s(o).e("icon-loading")]),name:"regular arrows-rotate",spin:"",onClick:X},null,8,["class"])):b("",!0)],2)])],2),le.value?(m(),C("div",{key:0,class:u([s(o).e("help")])},[_(a.$slots,"helpText",{error:F.value,isError:y.value},()=>[(m(),C("p",{key:y.value?"error":"help",class:u(se.value)},$(y.value?F.value:a.helpText),3))]),q.value?(m(),C("span",{key:0,class:u(s(o).e("help-count"))},$(D.value)+"/"+$(a.maxlength),3)):b("",!0)],2)):b("",!0)],38))}}),oa=Ue(ee,{Input:ee});export{oa as r};
