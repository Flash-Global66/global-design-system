import{R as O,a as R,c as h,g as W,w as P,D as X,r as I,Y as G,C as oe,a5 as L,a7 as F,a8 as se,d as Y,X as ue,b as D,f as J,u,l as x,P as Q,e as C,k as E,x as B,m as U,j,am as K,a1 as z,s as Z,F as _,A as re,y as ie,E as de,a4 as ce,o as me,z as be}from"./vue.esm-bundler-C43JrhH2.js";import{e as H,m as T,v as A,w as q,u as ee}from"./index-D5bIuBCX.js";import{u as ae,p as ve}from"./index-CdSB2Bdf.js";import{U as w}from"./event-BB_Ol6Sd.js";import{G as $,H as te}from"./index-DH2w0SzE.js";import{a as fe}from"./use-form-common-props-C2RO3VSy.js";import{d as le}from"./error-Cq9Fpw4b.js";import{i as pe}from"./isEqual-Cz4oPyRM.js";import{b as he,d as ge,w as ke,c as ye}from"./install-CfJGiCvs.js";const xe={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},id:{type:String,default:void 0},tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},border:{type:Boolean,default:!1},invert:{type:Boolean,default:!1},...ae(["ariaControls"])},Ce={[w]:e=>O(e)||H(e)||T(e),change:e=>O(e)||H(e)||T(e)},N=Symbol("checkboxGroupContextKey"),Ve=({model:e,isChecked:r})=>{const l=R(N,void 0),n=h(()=>{const t=l?.max?.value,i=l?.min?.value;return!A(t)&&e.value.length>=t&&!r.value||!A(i)&&e.value.length<=i&&r.value});return{isDisabled:fe(h(()=>l?.disabled.value||n.value)),isLimitDisabled:n}},Be=(e,{model:r,isLimitExceeded:l,hasOwnLabel:n,isDisabled:b,isLabeledByFormItem:t})=>{const i=R(N,void 0),{formItem:c}=$(),{emit:p}=W();function m(a){return[!0,e.trueValue].includes(a)?e.trueValue??!0:e.falseValue??!1}function s(a,y){p("change",m(a),y)}function g(a){if(l.value)return;const y=a.target;p("change",m(y.checked),a)}async function o(a){l.value||!n.value&&!b.value&&t.value&&(a.composedPath().some(V=>V.tagName==="LABEL")||(r.value=m([!1,e.falseValue].includes(r.value)),await X(),s(r.value,a)))}const v=h(()=>i?.validateEvent||e.validateEvent);return P(()=>e.modelValue,()=>{v.value&&c?.validate("change").catch(a=>le())}),{handleChange:g,onClickRoot:o}},Ge=e=>{const r=I(!1),{emit:l}=W(),n=R(N,void 0),b=h(()=>A(n)===!1),t=I(!1),i=h({get(){return b.value?n?.modelValue?.value:e.modelValue??r.value},set(c){b.value&&G(c)?(t.value=n?.max?.value!==void 0&&c.length>n?.max.value&&c.length>i.value.length,t.value===!1&&n?.changeEvent?.(c)):(l(w,c),r.value=c)}});return{model:i,isGroup:b,isLimitExceeded:t}},Ee=(e,r,{model:l})=>{const n=I(!1),b=I("");let t=null;const i=h(()=>q(e.value)?e.label:e.value),c=(s,g)=>{const o=s.map(L),v=F(g)?L(g.value):g;return se(v)?o.some(a=>pe(a,L(v))):o.includes(v)},p=h(()=>!!r.default||!q(i.value)),m=h(()=>{const s=l.value;return T(s)?s:G(s)?c(s,i.value):s!=null?s===e.trueValue:!!s});return P(m,s=>{t!==null&&clearTimeout(t),b.value=s?"expand":"contract",t=setTimeout(()=>{b.value="",t=null},500)}),oe(()=>{t!==null&&(clearTimeout(t),t=null)}),{actualValue:i,hasOwnLabel:p,isChecked:m,isFocused:n,currentRipple:b}},Ie=(e,r)=>{const{formItem:l}=$(),{model:n,isGroup:b,isLimitExceeded:t}=Ge(e),{actualValue:i,currentRipple:c,hasOwnLabel:p,isChecked:m,isFocused:s}=Ee(e,r,{model:n}),{isDisabled:g}=Ve({model:n,isChecked:m}),{inputId:o,isLabeledByFormItem:v}=te(e,{formItemContext:l,disableIdGeneration:p,disableIdManagement:b}),{handleChange:a,onClickRoot:y}=Be(e,{model:n,isLimitExceeded:t,hasOwnLabel:p,isDisabled:g,isLabeledByFormItem:v});return(()=>{function V(){G(n.value)&&!n.value.includes(i.value)?n.value.push(i.value):n.value=e.trueValue??!0}e.checked&&V()})(),{actualValue:i,currentRipple:c,handleChange:a,hasOwnLabel:p,inputId:o,isChecked:m,isDisabled:g,isFocused:s,isLabeledByFormItem:v,model:n,onClickRoot:y}},we=["id","indeterminate","name","tabindex","disabled","true-value","false-value"],Ne=["id","indeterminate","name","tabindex","disabled","value"],Se={class:"hover-effect"},ne=Y({name:"GuiCheckbox",__name:"checkbox",props:xe,emits:Ce,setup(e){const r=e,l=ue(),{actualValue:n,currentRipple:b,handleChange:t,hasOwnLabel:i,inputId:c,isChecked:p,isDisabled:m,isFocused:s,isLabeledByFormItem:g,model:o,onClickRoot:v}=Ie(r,l),a=ee("checkbox"),y=h(()=>!i.value&&g?"span":"label"),S=h(()=>[a.b(),a.is("disabled",m.value),a.is("checked",p.value),a.is("border",r.border),a.is("invert",r.invert)]),V=h(()=>[a.e("input"),a.is("disabled",m.value),a.is("checked",p.value),a.is("indeterminate",r.indeterminate),a.is("focus",s.value)]);return(f,d)=>(C(),D(Q(y.value),{class:x(S.value),"aria-controls":f.indeterminate?f.ariaControls:null,onClick:u(v)},{default:J(()=>[E("span",{class:x(V.value)},[f.trueValue||f.falseValue?j((C(),B("input",{key:0,id:u(c),"onUpdate:modelValue":d[0]||(d[0]=k=>F(o)?o.value=k:null),class:x(u(a).e("original")),type:"checkbox",indeterminate:f.indeterminate,name:f.name,tabindex:f.tabindex,disabled:u(m),"true-value":f.trueValue??!0,"false-value":f.falseValue??!1,onChange:d[1]||(d[1]=(...k)=>u(t)&&u(t)(...k)),onFocus:d[2]||(d[2]=k=>s.value=!0),onBlur:d[3]||(d[3]=k=>s.value=!1),onClick:d[4]||(d[4]=z(()=>{},["stop"]))},null,42,we)),[[K,u(o)]]):j((C(),B("input",{key:1,id:u(c),"onUpdate:modelValue":d[5]||(d[5]=k=>F(o)?o.value=k:null),class:x(u(a).e("original")),type:"checkbox",indeterminate:f.indeterminate,name:f.name,tabindex:f.tabindex,disabled:u(m),value:u(n),onChange:d[6]||(d[6]=(...k)=>u(t)&&u(t)(...k)),onFocus:d[7]||(d[7]=k=>s.value=!0),onBlur:d[8]||(d[8]=k=>s.value=!1),onClick:d[9]||(d[9]=z(()=>{},["stop"]))},null,42,Ne)),[[K,u(o)]]),E("span",{class:x(u(a).e("inner"))},[E("span",Se,[E("span",{class:x(["ripple",u(b)])},null,2)])],2)],2),u(i)?(C(),B("span",{key:0,class:x(u(a).e("label"))},[Z(f.$slots,"default"),f.$slots.default?U("",!0):(C(),B(_,{key:0},[re(ie(f.label),1)],64))],2)):U("",!0)]),_:3},8,["class","aria-controls","onClick"]))}});ne.__docgenInfo={name:"GuiCheckbox",exportName:"default",displayName:"checkbox",description:"",tags:{},slots:[{name:"default"}],sourceFiles:["/home/runner/work/global-design-system/global-design-system/components/checkbox/src/checkbox.vue"]};const Le=he({modelValue:{type:ge(Array),default:()=>[]},options:{type:Array,default:()=>[]},disabled:Boolean,min:Number,max:Number,layout:{type:String,default:"horizontal"},tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},border:{type:Boolean,default:!1},invert:{type:Boolean,default:!1},...ae(["ariaLabel"])}),Fe={[w]:e=>G(e),change:e=>G(e)},M=Y({name:"GuiCheckboxGroup",__name:"checkbox-group",props:Le,emits:Fe,setup(e,{emit:r}){const l=e,n=r,b=ee("checkbox"),{formItem:t}=$(),{inputId:i,isLabeledByFormItem:c}=te(l,{formItemContext:t}),p=async o=>{n(w,o),await X(),n("change",o)},m=h({get(){return l.modelValue},set(o){p(o)}}),s={horizontal:"flex flex-row gap-4",vertical:"flex flex-col gap-4"},g=h(()=>[b.b("group"),s[l.layout]]);return de(N,{...ve(ce(l),["min","max","disabled","validateEvent"]),modelValue:m,changeEvent:p}),me(()=>{const o=l.options.filter(v=>v.checked).map(v=>v.value);o.length>0&&(m.value=o)}),P(()=>l.modelValue,()=>{l.validateEvent&&t?.validate?.("change").catch(o=>le())}),(o,v)=>(C(),D(Q(o.tag),{id:u(i),class:x(g.value),role:"group","aria-label":u(c)?void 0:o.ariaLabel||"checkbox-group","aria-labelledby":u(c)?u(t)?.labelId:void 0},{default:J(()=>[l.options.length>0?(C(!0),B(_,{key:0},be(l.options,a=>(C(),D(u(De),{key:String(a.value),value:a.value,label:a?.label??a.value,disabled:a?.disabled,checked:a?.checked,border:l.border,invert:l.invert},null,8,["value","label","disabled","checked","border","invert"]))),128)):Z(o.$slots,"default",{key:1})]),_:3},8,["id","class","aria-label","aria-labelledby"]))}});M.__docgenInfo={name:"GuiCheckboxGroup",exportName:"default",displayName:"checkbox-group",description:"",tags:{},slots:[{name:"default"}],sourceFiles:["/home/runner/work/global-design-system/global-design-system/components/checkbox/src/checkbox-group.vue"]};const De=ke(ne,{CheckboxGroup:M}),Ke=ye(M);export{Ke as G,De as a};
