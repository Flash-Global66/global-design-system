import{R as O,a as T,c as h,g as W,w as P,D as X,r as G,Y as E,a5 as L,a7 as F,ad as oe,d as Y,X as se,b as D,f as J,u,l as x,P as Q,e as C,k as I,x as B,m as j,j as z,al as K,a1 as U,s as Z,F as _,A as ue,y as re,E as ie,a4 as de,o as ce,z as me}from"./vue.esm-bundler-DNj4lB-B.js";import{e as q,q as A,z as R,B as H,u as ee,o as be,l as ve,w as fe,C as pe}from"./install-B47IWttr.js";import{u as ae,p as he}from"./index-DG2QIyoI.js";import{U as N}from"./event-HEVJa2N9.js";import{G as $,H as te}from"./index-CKHqQBpj.js";import{a as ge}from"./use-form-common-props-D-8-8CSp.js";import{d as le}from"./error-Cq9Fpw4b.js";import{i as ke}from"./isEqual-BKrdcPcp.js";const ye={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},id:{type:String,default:void 0},tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},border:{type:Boolean,default:!1},invert:{type:Boolean,default:!1},...ae(["ariaControls"])},xe={[N]:e=>O(e)||q(e)||A(e),change:e=>O(e)||q(e)||A(e)},S=Symbol("checkboxGroupContextKey"),Ce=({model:e,isChecked:r})=>{const n=T(S,void 0),o=h(()=>{const s=n?.max?.value,i=n?.min?.value;return!R(s)&&e.value.length>=s&&!r.value||!R(i)&&e.value.length<=i&&r.value});return{isDisabled:ge(h(()=>n?.disabled.value||o.value)),isLimitDisabled:o}},Ve=(e,{model:r,isLimitExceeded:n,hasOwnLabel:o,isDisabled:m,isLabeledByFormItem:s})=>{const i=T(S,void 0),{formItem:c}=$(),{emit:f}=W();function t(a){return[!0,e.trueValue].includes(a)?e.trueValue??!0:e.falseValue??!1}function b(a,y){f("change",t(a),y)}function g(a){if(n.value)return;const y=a.target;f("change",t(y.checked),a)}async function l(a){n.value||!o.value&&!m.value&&s.value&&(a.composedPath().some(V=>V.tagName==="LABEL")||(r.value=t([!1,e.falseValue].includes(r.value)),await X(),b(r.value,a)))}const p=h(()=>i?.validateEvent||e.validateEvent);return P(()=>e.modelValue,()=>{p.value&&c?.validate("change").catch(a=>le())}),{handleChange:g,onClickRoot:l}},Be=e=>{const r=G(!1),{emit:n}=W(),o=T(S,void 0),m=h(()=>R(o)===!1),s=G(!1),i=h({get(){return m.value?o?.modelValue?.value:e.modelValue??r.value},set(c){m.value&&E(c)?(s.value=o?.max?.value!==void 0&&c.length>o?.max.value&&c.length>i.value.length,s.value===!1&&o?.changeEvent?.(c)):(n(N,c),r.value=c)}});return{model:i,isGroup:m,isLimitExceeded:s}},Ge=(e,r,{model:n})=>{const o=G(!1),m=G(!1),s=G(""),i=h(()=>H(e.value)?e.label:e.value),c=(t,b)=>{const g=t.map(L),l=F(b)?L(b.value):b;return oe(l)?g.some(p=>ke(p,L(l))):g.includes(l)},f=h(()=>!!r.default||!H(i.value));return P(()=>{const t=n.value;return A(t)?t:E(t)?c(t,i.value):t!=null?t===e.trueValue:!!t},t=>{m.value=t,s.value=t?"expand":"contract",setTimeout(()=>{s.value=""},500)}),{actualValue:i,hasOwnLabel:f,isChecked:m,isFocused:o,currentRipple:s}},Ee=(e,r)=>{const{formItem:n}=$(),{model:o,isGroup:m,isLimitExceeded:s}=Be(e),{actualValue:i,currentRipple:c,hasOwnLabel:f,isChecked:t,isFocused:b}=Ge(e,r,{model:o}),{isDisabled:g}=Ce({model:o,isChecked:t}),{inputId:l,isLabeledByFormItem:p}=te(e,{formItemContext:n,disableIdGeneration:f,disableIdManagement:m}),{handleChange:a,onClickRoot:y}=Ve(e,{model:o,isLimitExceeded:s,hasOwnLabel:f,isDisabled:g,isLabeledByFormItem:p});return(()=>{function V(){E(o.value)&&!o.value.includes(i.value)?o.value.push(i.value):o.value=e.trueValue??!0}e.checked&&V()})(),{actualValue:i,currentRipple:c,handleChange:a,hasOwnLabel:f,inputId:l,isChecked:t,isDisabled:g,isFocused:b,isLabeledByFormItem:p,model:o,onClickRoot:y}},Ie=["id","indeterminate","name","tabindex","disabled","true-value","false-value"],Ne=["id","indeterminate","name","tabindex","disabled","value"],Se={class:"hover-effect"},ne=Y({name:"GuiCheckbox",__name:"checkbox",props:ye,emits:xe,setup(e){const r=e,n=se(),{actualValue:o,currentRipple:m,handleChange:s,hasOwnLabel:i,inputId:c,isChecked:f,isDisabled:t,isFocused:b,isLabeledByFormItem:g,model:l,onClickRoot:p}=Ee(r,n),a=ee("checkbox"),y=h(()=>!i.value&&g?"span":"label"),w=h(()=>[a.b(),a.is("disabled",t.value),a.is("checked",f.value),a.is("border",r.border),a.is("invert",r.invert)]),V=h(()=>[a.e("input"),a.is("disabled",t.value),a.is("checked",f.value),a.is("indeterminate",r.indeterminate),a.is("focus",b.value)]);return(v,d)=>(C(),D(Q(y.value),{class:x(w.value),"aria-controls":v.indeterminate?v.ariaControls:null,onClick:u(p)},{default:J(()=>[I("span",{class:x(V.value)},[v.trueValue||v.falseValue?z((C(),B("input",{key:0,id:u(c),"onUpdate:modelValue":d[0]||(d[0]=k=>F(l)?l.value=k:null),class:x(u(a).e("original")),type:"checkbox",indeterminate:v.indeterminate,name:v.name,tabindex:v.tabindex,disabled:u(t),"true-value":v.trueValue??!0,"false-value":v.falseValue??!1,onChange:d[1]||(d[1]=(...k)=>u(s)&&u(s)(...k)),onFocus:d[2]||(d[2]=k=>b.value=!0),onBlur:d[3]||(d[3]=k=>b.value=!1),onClick:d[4]||(d[4]=U(()=>{},["stop"]))},null,42,Ie)),[[K,u(l)]]):z((C(),B("input",{key:1,id:u(c),"onUpdate:modelValue":d[5]||(d[5]=k=>F(l)?l.value=k:null),class:x(u(a).e("original")),type:"checkbox",indeterminate:v.indeterminate,name:v.name,tabindex:v.tabindex,disabled:u(t),value:u(o),onChange:d[6]||(d[6]=(...k)=>u(s)&&u(s)(...k)),onFocus:d[7]||(d[7]=k=>b.value=!0),onBlur:d[8]||(d[8]=k=>b.value=!1),onClick:d[9]||(d[9]=U(()=>{},["stop"]))},null,42,Ne)),[[K,u(l)]]),I("span",{class:x(u(a).e("inner"))},[I("span",Se,[I("span",{class:x(["ripple",u(m)])},null,2)])],2)],2),u(i)?(C(),B("span",{key:0,class:x(u(a).e("label"))},[Z(v.$slots,"default"),v.$slots.default?j("",!0):(C(),B(_,{key:0},[ue(re(v.label),1)],64))],2)):j("",!0)]),_:3},8,["class","aria-controls","onClick"]))}});ne.__docgenInfo={name:"GuiCheckbox",exportName:"default",displayName:"checkbox",description:"",tags:{},slots:[{name:"default"}],sourceFiles:["/home/runner/work/global-design-system/global-design-system/components/checkbox/src/checkbox.vue"]};const we=be({modelValue:{type:ve(Array),default:()=>[]},options:{type:Array,default:()=>[]},disabled:Boolean,min:Number,max:Number,layout:{type:String,default:"horizontal"},tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},border:{type:Boolean,default:!1},invert:{type:Boolean,default:!1},...ae(["ariaLabel"])}),Le={[N]:e=>E(e),change:e=>E(e)},M=Y({name:"GuiCheckboxGroup",__name:"checkbox-group",props:we,emits:Le,setup(e,{emit:r}){const n=e,o=r,m=ee("checkbox"),{formItem:s}=$(),{inputId:i,isLabeledByFormItem:c}=te(n,{formItemContext:s}),f=async l=>{o(N,l),await X(),o("change",l)},t=h({get(){return n.modelValue},set(l){f(l)}}),b={horizontal:"flex flex-row gap-4",vertical:"flex flex-col gap-4"},g=h(()=>[m.b("group"),b[n.layout]]);return ie(S,{...he(de(n),["min","max","disabled","validateEvent"]),modelValue:t,changeEvent:f}),ce(()=>{const l=n.options.filter(p=>p.checked).map(p=>p.value);l.length>0&&(t.value=l)}),P(()=>n.modelValue,()=>{n.validateEvent&&s?.validate?.("change").catch(l=>le())}),(l,p)=>(C(),D(Q(l.tag),{id:u(i),class:x(g.value),role:"group","aria-label":u(c)?void 0:l.ariaLabel||"checkbox-group","aria-labelledby":u(c)?u(s)?.labelId:void 0},{default:J(()=>[n.options.length>0?(C(!0),B(_,{key:0},me(n.options,a=>(C(),D(u(Fe),{key:String(a.value),value:a.value,label:a?.label??a.value,disabled:a?.disabled,checked:a?.checked,border:n.border,invert:n.invert},null,8,["value","label","disabled","checked","border","invert"]))),128)):Z(l.$slots,"default",{key:1})]),_:3},8,["id","class","aria-label","aria-labelledby"]))}});M.__docgenInfo={name:"GuiCheckboxGroup",exportName:"default",displayName:"checkbox-group",description:"",tags:{},slots:[{name:"default"}],sourceFiles:["/home/runner/work/global-design-system/global-design-system/components/checkbox/src/checkbox-group.vue"]};const Fe=fe(ne,{CheckboxGroup:M}),je=pe(M);export{je as G,Fe as a};
