import{d as A,r as v,c as x,x as F,w as W,E as te,H as ae,S as le,o as re,D as V,U as se,e as C,k as $,m as oe,b as R,f as G,s as ne,n as O,l as T,P as ie,u as N,a as X,h as D,F as ue,C as ce,V as K,j as ve,v as fe,T as me,t as de}from"./vue.esm-bundler-C43JrhH2.js";import{u as j,a as pe}from"./index-BDKGuxIf.js";import{f as ye}from"./install-CfJGiCvs.js";import{u as Y}from"./index-D5bIuBCX.js";import{u as he}from"./index-CdSB2Bdf.js";import{i as be}from"./index-DmfABaPz.js";/**
* @vue/shared v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const we=Object.prototype.hasOwnProperty,I=(t,l)=>we.call(t,l),Q=t=>typeof t=="string",P=t=>t!==null&&typeof t=="object";class ge extends Error{constructor(l){super(l),this.name="ElementPlusError"}}function Se(t,l){throw new ge(`[${t}] ${l}`)}const z=t=>typeof t=="number",ze=t=>Q(t)?!Number.isNaN(Number(t)):!1;function J(t,l="px"){if(!t)return"";if(z(t)||ze(t))return`${t}${l}`;if(Q(t))return t}const Z="__epPropKey",xe=t=>t,Ee=t=>P(t)&&!!t[Z],Le=(t,l)=>{if(!P(t)||Ee(t))return t;const{values:s,required:o,default:u,type:i,validator:f}=t,m={type:i,required:!!o,validator:s||f?c=>{let n=!1,r=[];if(s&&(r=Array.from(s),I(t,"default")&&r.push(u),n||(n=r.includes(c))),f&&(n||(n=f(c))),!n&&r.length>0){const e=[...new Set(r)].map(d=>JSON.stringify(d)).join(", ");de(`Invalid prop: validation failed${l?` for prop "${l}"`:""}. Expected one of [${e}], got value ${JSON.stringify(c)}.`)}return n}:void 0,[Z]:!0};return I(t,"default")&&(m.default=u),m},M=t=>ye(Object.entries(t).map(([l,s])=>[l,Le(s,l)])),Ne=(t,l)=>(t.install=s=>{for(const o of[t,...Object.values({})])s.component(o.name,o)},t),S=4,Ce={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Te=({move:t,size:l,bar:s})=>({[s.size]:l,transform:`translate${s.axis}(${t}%)`}),q=Symbol("scrollbarContextKey"),_e=M({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),ke="Thumb",U=A({__name:"thumb",props:_e,setup(t){const l=t,s=X(q),o=Y("scrollbar");s||Se(ke,"can not inject scrollbar context");const u=v(),i=v(),f=v({}),m=v(!1);let c=!1,n=!1,r=be?document.onselectstart:null;const e=x(()=>Ce[l.vertical?"vertical":"horizontal"]),d=x(()=>Te({size:l.size,move:l.move,bar:e.value})),y=x(()=>u.value[e.value.offset]**2/s.wrapElement[e.value.scrollSize]/l.ratio/i.value[e.value.offset]),g=a=>{if(a.stopPropagation(),a.ctrlKey||[1,2].includes(a.button))return;window.getSelection()?.removeAllRanges(),w(a);const p=a.currentTarget;p&&(f.value[e.value.axis]=p[e.value.offset]-(a[e.value.client]-p.getBoundingClientRect()[e.value.direction]))},b=a=>{if(!i.value||!u.value||!s.wrapElement)return;const p=Math.abs(a.target.getBoundingClientRect()[e.value.direction]-a[e.value.client]),B=i.value[e.value.offset]/2,H=(p-B)*100*y.value/u.value[e.value.offset];s.wrapElement[e.value.scroll]=H*s.wrapElement[e.value.scrollSize]/100},w=a=>{a.stopImmediatePropagation(),c=!0,document.addEventListener("mousemove",E),document.addEventListener("mouseup",L),r=document.onselectstart,document.onselectstart=()=>!1},E=a=>{if(!u.value||!i.value||c===!1)return;const p=f.value[e.value.axis];if(!p)return;const B=(u.value.getBoundingClientRect()[e.value.direction]-a[e.value.client])*-1,H=i.value[e.value.offset]-p,ee=(B-H)*100*y.value/u.value[e.value.offset];s.wrapElement[e.value.scroll]=ee*s.wrapElement[e.value.scrollSize]/100},L=()=>{c=!1,f.value[e.value.axis]=0,document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",L),h(),n&&(m.value=!1)},_=()=>{n=!1,m.value=!!l.size},k=()=>{n=!0,m.value=c};ce(()=>{h(),document.removeEventListener("mouseup",L)});const h=()=>{document.onselectstart!==r&&(document.onselectstart=r)};return j(K(s,"scrollbarElement"),"mousemove",_),j(K(s,"scrollbarElement"),"mouseleave",k),(a,p)=>(C(),R(me,{name:N(o).b("fade")},{default:G(()=>[ve($("div",{ref_key:"instance",ref:u,class:T([N(o).e("bar"),N(o).is(e.value.key)]),onMousedown:b},[$("div",{ref_key:"thumb",ref:i,class:T(N(o).e("thumb")),style:O(d.value),onMousedown:g},null,38)],34),[[fe,a.always||m.value]])]),_:1},8,["name"]))}}),Be=M({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),He=A({__name:"bar",props:Be,setup(t,{expose:l}){const s=t,o=X(q),u=v(0),i=v(0),f=v(""),m=v(""),c=v(1),n=v(1);return l({handleScroll:r=>{if(r){const e=r.offsetHeight-S,d=r.offsetWidth-S;i.value=r.scrollTop*100/e*c.value,u.value=r.scrollLeft*100/d*n.value}},update:()=>{const r=o?.wrapElement;if(!r)return;const e=r.offsetHeight-S,d=r.offsetWidth-S,y=e**2/r.scrollHeight,g=d**2/r.scrollWidth,b=Math.max(y,s.minSize),w=Math.max(g,s.minSize);c.value=y/(e-y)/(b/(e-b)),n.value=g/(d-g)/(w/(d-w)),m.value=b+S<e?`${b}px`:"",f.value=w+S<d?`${w}px`:""}}),(r,e)=>(C(),F(ue,null,[D(U,{move:u.value,ratio:n.value,size:f.value,always:r.always},null,8,["move","ratio","size","always"]),D(U,{move:i.value,ratio:c.value,size:m.value,vertical:"",always:r.always},null,8,["move","ratio","size","always"])],64))}}),$e=M({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:xe([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...he(["ariaLabel","ariaOrientation"])}),Re={scroll:({scrollTop:t,scrollLeft:l})=>[t,l].every(z)},Oe=["tabindex"],je="GScrollbar",Ae=A({name:je,__name:"scrollbar",props:$e,emits:Re,setup(t,{expose:l,emit:s}){const o=t,u=s,i=Y("scrollbar");let f,m,c=0,n=0;const r=v(),e=v(),d=v(),y=v(),g=x(()=>{const a={};return o.height&&(a.height=J(o.height)),o.maxHeight&&(a.maxHeight=J(o.maxHeight)),[o.wrapStyle,a]}),b=x(()=>[o.wrapClass,i.e("wrap"),{[i.em("wrap","hidden-default")]:!o.native}]),w=x(()=>[i.e("view"),o.viewClass]),E=()=>{e.value&&(y.value?.handleScroll(e.value),c=e.value.scrollTop,n=e.value.scrollLeft,u("scroll",{scrollTop:e.value.scrollTop,scrollLeft:e.value.scrollLeft}))};function L(a,p){P(a)?e.value.scrollTo(a):z(a)&&z(p)&&e.value.scrollTo(a,p)}const _=a=>{z(a)&&(e.value.scrollTop=a)},k=a=>{z(a)&&(e.value.scrollLeft=a)},h=()=>{y.value?.update()};return W(()=>o.noresize,a=>{a?(f?.(),m?.()):({stop:f}=pe(d,h),m=j("resize",h))},{immediate:!0}),W(()=>[o.maxHeight,o.height],()=>{o.native||V(()=>{h(),e.value&&y.value?.handleScroll(e.value)})}),te(q,ae({scrollbarElement:r,wrapElement:e})),le(()=>{e.value&&(e.value.scrollTop=c,e.value.scrollLeft=n)}),re(()=>{o.native||V(()=>{h()})}),se(()=>h()),l({wrapRef:e,update:h,scrollTo:L,setScrollTop:_,setScrollLeft:k,handleScroll:E}),(a,p)=>(C(),F("div",{ref_key:"scrollbarRef",ref:r,class:T(N(i).b())},[$("div",{ref_key:"wrapRef",ref:e,class:T(b.value),style:O(g.value),tabindex:a.tabindex,onScroll:E},[(C(),R(ie(a.tag),{id:a.id,ref_key:"resizeRef",ref:d,class:T(w.value),style:O(a.viewStyle),role:a.role,"aria-label":a.ariaLabel,"aria-orientation":a.ariaOrientation},{default:G(()=>[ne(a.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,Oe),a.native?oe("",!0):(C(),R(He,{key:0,ref_key:"barRef",ref:y,always:a.always,"min-size":a.minSize},null,8,["always","min-size"]))],2))}}),Ke=Ne(Ae);export{Ke as q};
