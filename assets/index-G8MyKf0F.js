import{R as L,d as ye,W as be,X as we,r as w,c as r,J as xe,w as N,o as Ee,x as y,k as x,m as f,s as V,l as i,u as n,n as X,y as E,p as Ce,e as u,b as C,D as Q}from"./vue.esm-bundler-C43JrhH2.js";import{a as Se}from"./index-BDKGuxIf.js";import{F as S}from"./index-B1PxvDbZ.js";import{H as Ie,Y as ke,G as Pe}from"./index-DH2w0SzE.js";import{b as Be,d as I,w as Me}from"./install-CfJGiCvs.js";import{U as R}from"./event-BB_Ol6Sd.js";import{u as Te}from"./index-CdSB2Bdf.js";import{m as Le}from"./typescript-Bp3YSIOJ.js";import{u as Ne,g as Ve}from"./index-D5bIuBCX.js";import{u as Fe,a as Re}from"./index-BjhK0CHr.js";import{u as Ae,a as He}from"./index-D_xYoXKA.js";import{d as F}from"./error-Cq9Fpw4b.js";const $e=Be({id:{type:String,default:void 0},helpText:{type:String,default:void 0},loading:{type:Boolean,default:!1},label:{type:String,default:void 0},messageError:{type:String,default:void 0},disabled:Boolean,modelValue:{type:I([String,Number,Object]),default:""},maxlength:{type:[String,Number],default:50},minlength:{type:[String,Number]},type:{type:String,default:"text"},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:I(String),default:""},prefixIcon:{type:I(String),default:""},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},isEvent:{type:Boolean,default:!1},inputStyle:{type:I([Object,Array,String]),default:()=>Le({})},autofocus:Boolean,...Te(["ariaLabel"])}),De={[R]:s=>L(s),click:s=>s instanceof MouseEvent,input:s=>L(s),change:s=>L(s),focus:s=>s instanceof FocusEvent,blur:s=>s instanceof FocusEvent,clear:()=>!0,mouseleave:s=>s instanceof MouseEvent,mouseenter:s=>s instanceof MouseEvent,keydown:s=>s instanceof Event,compositionstart:s=>s instanceof CompositionEvent,compositionupdate:s=>s instanceof CompositionEvent,compositionend:s=>s instanceof CompositionEvent},We=["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role"],A=ye({name:"Input",inheritAttrs:!1,__name:"input",props:$e,emits:De,setup(s,{expose:Z,emit:_}){const t=s,l=_,o=Ne("input"),H=be(),ee=Fe(),k=we(),P=w(void 0),B=w(null),{formItem:p}=Pe(),v=r(()=>p?.shouldShowErrorChild||!!t?.messageError),M=r(()=>t?.messageError?t.messageError:p?.validateMessage),te=r(()=>[o.b(),o.is("label",!!t.label),o.is("disabled",g.value),o.is("focus",T.value),o.is("complete",!T.value&&!!c.value),o.is("disabled",g.value),o.is("exceed",ue.value),o.is("error",v.value||p?.shouldShowError),o.is("event",t.isEvent),o.is("loading",t.loading),o.is("readonly",t.readonly),{[o.m("prefix")]:t.prefixIcon||k.prefix,[o.m("suffix")]:k.suffix||t.suffixIcon||t.showPassword,[o.is("password")]:t.showPassword,[o.b("hidden")]:t.type==="hidden"},H.class]),oe=r(()=>[o.e("help-text"),{[o.e("help-error")]:v.value}]),ne=r(()=>M.value||t.helpText||p?.$el),{inputId:se}=Ie(t,{formItemContext:p}),g=ke(),d=xe(),$=w(!1),b=w(!1),D=r(()=>d.value),{wrapperRef:ae,isFocused:T}=Ae(d,{beforeFocus(){return g.value},afterBlur(){t.validateEvent&&p?.validate?.("blur").catch(e=>F())}}),re=r(()=>{const e=!!c.value||T.value;return{left:e?void 0:`calc(${P.value} + 16px)`,zIndex:e?void 0:10}}),le=r(()=>b.value?"regular eye":"regular eye-slash"),ie=r(()=>[H.style]),c=r(()=>Ve(t.modelValue)?"":String(t.modelValue)),W=r(()=>t.showWordLimit&&!!t.maxlength&&t.type==="text"&&!g.value&&!t.readonly&&!t.showPassword),z=r(()=>c.value.length),ue=r(()=>!!W.value&&z.value>Number(t.maxlength));r(()=>!!t.suffixIcon||t.showPassword);const[G,K]=Re(d),h=()=>{const e=D.value,a=t.formatter?t.formatter(c.value):c.value;!e||e.value===a||(e.value=a)},O=async e=>{G();let{value:a}=e.target;if(t.formatter&&(a=t.parser?t.parser(a):a),!U.value){if(a===c.value){h();return}l(R,a),l("input",a),await Q(),h(),K()}},pe=e=>{l("change",e.target.value)},{isComposing:U,handleCompositionStart:j,handleCompositionUpdate:Y,handleCompositionEnd:q}=He({emit:l,afterComposition:O}),J=()=>{G(),b.value=!b.value,setTimeout(K)},de=()=>d.value?.focus(),ce=()=>d.value?.blur(),me=e=>{$.value=!1,l("mouseleave",e)},fe=e=>{$.value=!0,l("mouseenter",e)},ve=e=>{l("keydown",e)},ge=()=>{d.value?.select()},he=()=>{l(R,""),l("change",""),l("clear"),l("input","")};return N(()=>t.modelValue,()=>{t.validateEvent&&p?.validate?.("change").catch(e=>F())}),N(c,()=>h()),N(()=>t.type,async()=>{await Q(),h()}),Ee(()=>{!t.formatter&&t.parser&&F(o.b()),h()}),Se(B,()=>{if(!t.prefixIcon&&!k.prefix){P.value="0";return}requestAnimationFrame(()=>{const e=B.value?.getBoundingClientRect().width;P.value=`${e}px`})}),Z({ref:D,isComposing:U,focus:de,blur:ce,select:ge,clear:he}),(e,a)=>(u(),y("div",{class:i([te.value]),style:X(ie.value),onMouseenter:fe,onMouseleave:me},[x("div",{ref_key:"wrapperRef",ref:ae,class:i(n(o).e("wrapper")),onClick:a[3]||(a[3]=m=>e.isEvent?l("click",m):void 0)},[x("div",{ref_key:"prefixRef",ref:B,class:i(n(o).e("prefix"))},[V(e.$slots,"prefix",{},()=>[e.prefixIcon?(u(),C(n(S),{key:0,class:i([n(o).e("icon"),n(o).e("prefix-icon")]),name:e.prefixIcon},null,8,["class","name"])):f("",!0)])],2),e.label?(u(),y("div",{key:0,class:i([n(o).e("label")]),style:X(re.value)},E(e.label),7)):f("",!0),x("input",Ce({id:n(se),ref_key:"input",ref:d,class:[n(o).e("inner")]},n(ee),{minlength:e.minlength,maxlength:e.maxlength,type:e.showPassword?b.value?"text":"password":e.type,disabled:n(g),readonly:e.readonly||e.loading||e.isEvent,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.ariaLabel,placeholder:e.placeholder,form:e.form,autofocus:e.autofocus,role:e.containerRole,onCompositionstart:a[0]||(a[0]=(...m)=>n(j)&&n(j)(...m)),onCompositionupdate:a[1]||(a[1]=(...m)=>n(Y)&&n(Y)(...m)),onCompositionend:a[2]||(a[2]=(...m)=>n(q)&&n(q)(...m)),onInput:O,onChange:pe,onKeydown:ve}),null,16,We),V(e.$slots,"suffix",{},()=>[x("span",{class:i(n(o).e("suffix"))},[e.suffixIcon&&!e.showPassword&&!e.loading?(u(),C(n(S),{key:0,class:i([n(o).e("icon"),n(o).e("suffix-icon")]),name:e.suffixIcon},null,8,["class","name"])):f("",!0),e.showPassword?(u(),C(n(S),{key:1,class:i([n(o).e("icon"),n(o).e("icon-password")]),name:le.value,onClick:J},null,8,["class","name"])):f("",!0),e.loading?(u(),C(n(S),{key:2,class:i([n(o).e("icon"),n(o).e("icon-loading")]),name:"regular arrows-rotate",spin:"",onClick:J},null,8,["class"])):f("",!0)],2)])],2),ne.value?(u(),y("div",{key:0,class:i([n(o).e("help")])},[V(e.$slots,"helpText",{error:M.value,isError:v.value},()=>[(u(),y("p",{key:v.value?"error":"help",class:i(oe.value)},E(v.value?M.value:e.helpText),3))]),W.value?(u(),y("span",{key:0,class:i(n(o).e("help-count"))},E(z.value)+"/"+E(e.maxlength),3)):f("",!0)],2)):f("",!0)],38))}});A.__docgenInfo={name:"Input",exportName:"default",displayName:"input",description:"",tags:{},expose:[{name:"ref",tags:[{title:"description",content:"HTML element, input or textarea"}]},{name:"isComposing",tags:[{title:"description",content:"is input composing"}]},{name:"focus",tags:[{title:"description",content:"HTML input element native method"}]},{name:"blur",tags:[{title:"description",content:"HTML input element native method"}]},{name:"select",tags:[{title:"description",content:"HTML input element native method"}]},{name:"clear",tags:[{title:"description",content:"clear input value"}]}],slots:[{name:"prefix"},{name:"suffix"},{name:"helpText",scoped:!0,bindings:[{name:"error",title:"binding"},{name:"isError",title:"binding"}]}],sourceFiles:["/home/runner/work/global-design-system/global-design-system/components/input/src/input.vue"]};const et=Me(A,{Input:A});export{et as G};
